# Epic 1.5: Templ-UI Integration

[← Back to Phase 1](../1-core-web.md) | [← Epic 1.4](./1.4-web-build-pipeline.md)

**Decision:** [ADR-009: Templ-UI for UI Components](../../../adr/009-templui-for-ui-components.md)

## Overview

Integrate templ-ui as the core UI component library for generated applications. This epic implements automatic installation of templ-ui during project generation, installs a comprehensive starter component set (forms, layout, feedback), and provides CLI commands for adding/listing components. Users own the copied component code and can customize freely, following the shadcn/ui philosophy of "copy code, own components."

## Goals

- Templui CLI installed in generated projects
- Automatic `templui init` during `tracks new`
- Full starter component set installed by default
- `tracks ui add <component>` command
- `tracks ui list` command
- Components in `internal/http/views/components/ui/`
- Tailwind config updated to include templ-ui styles
- Component customization documented
- Example pages using templ-ui components

## Scope

### In Scope

- Add `github.com/templui/templui` to tool directive
- Run `templui init` during project generation
- Install starter component set automatically
- Create `tracks ui add` subcommand
- Create `tracks ui list` subcommand
- Configure templui.yaml
- Update Tailwind config for templ-ui
- Create example pages using components
- Document component usage
- Document customization workflow

### Out of Scope

- Custom component development (users do this)
- Complex form validation libraries (future)
- Data tables with server-side pagination (future)
- Chart/graph components (future)
- Rich text editors (future)
- Component testing framework (future)

## Task Breakdown

The following tasks will become GitHub issues, ordered by dependency:

### Phase 1: Templui Foundation (Tasks 1-10)

1. Add templui to tool directive in generated go.mod
2. Create templui.yaml configuration template
3. Run `templui init` during `tracks new`
4. Install starter component set automatically
5. Verify components copied to correct location
6. Update Tailwind config for templ-ui styles
7. Create ProjectGenerator integration
8. Test templui initialization
9. Document templui integration in README
10. Create troubleshooting guide

### Phase 2: tracks ui Commands (Tasks 11-25)

1. Create `tracks ui` subcommand structure
2. Create `tracks ui add` subcommand
3. Implement component name validation
4. Add progress output for component installation
5. Create `tracks ui list` subcommand
6. Format component list output
7. Add `tracks ui add <component> --force` flag
8. Create `tracks ui update <component>` subcommand
9. Add `tracks ui remove <component>` subcommand
10. Create `tracks ui search <query>` subcommand
11. Add JSON output support for ui commands
12. Create unit tests for ui commands
13. Create integration tests for ui commands
14. Document ui command reference
15. Add ui commands to main README

### Phase 3: Component Examples (Tasks 26-35)

1. Create form example page
2. Create layout example page
3. Create feedback example page
4. Create modal example
5. Create accordion example
6. Create sheet example
7. Update home page to showcase components
8. Create component gallery page
9. Add dark mode examples
10. Document component examples

### Phase 4: Customization Workflow (Tasks 36-45)

1. Document component ownership model
2. Create customization guide
3. Document component props
4. Create component variant guide
5. Document Tailwind customization
6. Create component composition guide
7. Document accessibility considerations
8. Create component testing guide
9. Document update strategy
10. Create component library best practices

### Phase 5: Advanced Features (Tasks 46-50)

1. Add `tracks ui init` for existing projects
2. Create component dependencies tracking
3. Add component versioning info
4. Create component upgrade workflow
5. Document production usage

## Dependencies

### Prerequisites

- Phase 0 completed (project generation working)
- Epic 1.1 completed (Chi router)
- Epic 1.2 completed (Templ templates)
- Epic 1.3 completed (HashFS assets)
- Epic 1.4 completed (TailwindCSS and Alpine.js)
- Go 1.25+ (tool directive support)

### External Dependencies

- `github.com/templui/templui` - Component library and CLI
- TailwindCSS (from Epic 1.4)
- Alpine.js (from Epic 1.4)
- templ (from Epic 1.2)

### Blocks

- Epic 1.6 (Documentation) - needs component examples

## Acceptance Criteria

### Templui Installation

- [ ] Templui CLI added to tool directive
- [ ] `templui init` runs during `tracks new`
- [ ] Starter component set installed automatically
- [ ] Components copied to `internal/http/views/components/ui/`
- [ ] templui.yaml configuration created
- [ ] Tailwind config updated for templ-ui styles

### tracks ui Commands

- [ ] `tracks ui add <component>` installs component
- [ ] `tracks ui list` shows available and installed components
- [ ] `tracks ui update <component>` updates from upstream
- [ ] `tracks ui remove <component>` removes component
- [ ] `tracks ui search <query>` finds components
- [ ] JSON output support (`--json` flag)
- [ ] Error handling with helpful messages

### Examples & Documentation

- [ ] Form example page created
- [ ] Layout example page created
- [ ] Feedback example page created
- [ ] Component gallery page created
- [ ] Dark mode examples working
- [ ] Customization guide documented
- [ ] Component ownership model explained

### Testing

- [ ] Unit tests for ui commands pass
- [ ] Integration tests verify component installation
- [ ] Example pages render correctly
- [ ] Components work in dark mode

## Next Epic

[Epic 1.6: Middleware Stack & Documentation →](./1.6-middleware-documentation.md)
