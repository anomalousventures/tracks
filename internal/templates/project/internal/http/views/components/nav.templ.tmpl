package components

import "{{.ModuleName}}/internal/http/routes"

type NavLink struct {
	Label  string
	Href   string
	Active bool
}

type NavProps struct {
	Logo      string
	Links     []NavLink
	DarkMode  bool
	MobileNav bool
}

templ Nav(props NavProps) {
	<nav class={ "flex", "items-center", "justify-between", "p-4", "bg-white", "dark:bg-gray-900", "border-b", "border-gray-200", "dark:border-gray-800" }>
		<div class={ "flex", "items-center", "justify-between", "w-full", "max-w-7xl", "mx-auto" }>
			if props.Logo != "" {
				<div class={ "flex-shrink-0" }>
					<a href={ templ.URL(routes.Home) } class={ "text-xl", "font-bold", "text-gray-900", "dark:text-white", "hover:text-gray-700", "dark:hover:text-gray-300" }>{ props.Logo }</a>
				</div>
			}
			<div class={ "hidden", "md:flex", "md:items-center", "md:space-x-6" }>
				for _, link := range props.Links {
					<a
						href={ templ.SafeURL(link.Href) }
						hx-get={ link.Href }
						hx-target="#content"
						hx-push-url="true"
						hx-swap="innerHTML"
						class={ "px-3", "py-2", "text-sm", "font-medium", "text-gray-700", "dark:text-gray-300", "hover:text-gray-900", "dark:hover:text-white", "rounded-md", templ.KV("bg-gray-100", link.Active), templ.KV("dark:bg-gray-800", link.Active) }
						if link.Active {
							aria-current="page"
						}
					>
						{ link.Label }
					</a>
				}
			</div>
			if props.MobileNav {
				<button
					class={ "md:hidden", "p-2", "text-gray-700", "dark:text-gray-300", "hover:text-gray-900", "dark:hover:text-white", "focus:outline-none", "focus:ring-2", "focus:ring-offset-2", "focus:ring-offset-gray-100", "focus:ring-gray-500" }
					aria-label="Toggle navigation menu"
					aria-expanded="false"
				>
					<span class={ "block", "w-6", "h-0.5", "bg-current", "mb-1" }></span>
					<span class={ "block", "w-6", "h-0.5", "bg-current", "mb-1" }></span>
					<span class={ "block", "w-6", "h-0.5", "bg-current" }></span>
				</button>
			}
		</div>
	</nav>
}
