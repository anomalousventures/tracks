.PHONY: help test build dev mocks sqlc lint clean

help: ## Show this help message
	@echo "Available targets:"
	@echo "  help   - Show this help message"
	@echo "  test   - Run all tests"
	@echo "  build  - Build the server binary"
	@echo "  dev    - Start development server with hot reload"
	@echo "  mocks  - Generate mocks from interfaces"
	@echo "  sqlc   - Generate type-safe SQL code"
	@echo "  lint   - Run linters"
	@echo "  clean  - Remove build artifacts"

test: ## Run tests
	go test ./...

build: ## Build server binary
	@mkdir -p bin
	go build -o bin/server ./cmd/server

dev: ## Start development server with hot reload
	go tool air -c .air.toml

mocks: ## Generate mocks from interfaces
	go tool mockery

sqlc: ## Generate type-safe SQL code
	go tool sqlc generate

lint: ## Run linters
	go tool golangci-lint run

clean: ## Remove build artifacts
	rm -rf bin/
