# {{.ProjectName}}

Generated by [Tracks](https://github.com/anomalousventures/tracks)

## Getting Started

### Prerequisites

- Go 1.25 or later
{{if eq .DBDriver "postgres"}}- PostgreSQL server
{{else}}{{if eq .DBDriver "go-libsql"}}- CGO enabled (for go-libsql driver)
- GCC (Linux) or Xcode (macOS) for compilation
- Compatible with Turso (libSQL cloud database)
{{else}}- CGO enabled (for sqlite3 driver)
- GCC (Linux) or Xcode (macOS) for compilation
{{end}}{{end}}

### Installation

```bash
# Generate all code (templ + mocks + SQLC)
make generate

# Run tests
make test

# Start development server
make dev
```

### Project Structure

- `cmd/server/` - Application entrypoint
- `internal/interfaces/` - Interface definitions (for mocking)
- `internal/domain/` - Business logic by feature
- `internal/infra/http/` - HTTP server and handlers
- `internal/routes/` - Route constants
- `db/` - Database migrations and queries
- `test/mocks/` - Generated mock implementations

### Development

This project uses:
- **Chi** - HTTP router
- **templ** - Type-safe HTML templates
- **SQLC** - Type-safe SQL queries
- **HTMX** - Progressive enhancement
- **Mockery** - Interface mocking

See [CONTRIBUTING.md](./CONTRIBUTING.md) for development guidelines.

### Available Commands

```bash
make help      # Show all available commands
make test      # Run tests
make build     # Build the server binary
make dev       # Start development server with hot reload
make fmt       # Format code with gofmt
make lint      # Run all linters (golangci-lint + markdown)
make generate  # Generate all code (templ + mocks + SQLC)
make templ     # Generate Go code from templ templates
make mocks     # Generate mocks from interfaces
make sqlc      # Generate type-safe SQL code
```

## Docker

### Building the Docker Image

```bash
docker build -t {{.ProjectName}}:latest .
```

### Running the Container

```bash
# Run with default settings
docker run -p 8080:8080 {{.ProjectName}}:latest

# Run with environment variables
docker run -p 8080:8080 \
  -e APP_SERVER_PORT=8080 \
  -e APP_SERVER_HOST=0.0.0.0 \
{{- if eq .DBDriver "postgres"}}
  -e APP_DATABASE_URL=postgres://user:pass@host:5432/dbname \
{{- else if eq .DBDriver "go-libsql"}}
  -e APP_DATABASE_URL=libsql://your-database.turso.io \
{{- else}}
  -e APP_DATABASE_URL=file:data/{{.ProjectName}}.db \
{{- end}}
  {{.ProjectName}}:latest
```

### Using Docker Compose

For local development with dependencies:

```bash
# Start all services
docker-compose up -d

# View logs
docker-compose logs -f

# Stop all services
docker-compose down
```

## Configuration

This project uses separate configuration files for different purposes:

- **`.tracks.yaml`** - Tracks CLI project metadata (database driver, module path) - committed to git
- **`.env`** - Application runtime configuration (copy from `.env.example`) - NOT committed

For runtime configuration, copy `.env.example` to `.env` and customize:

```bash
cp .env.example .env
# Edit .env with your values
```

See `.env.example` for all available configuration options.

## License

[Your license here]
