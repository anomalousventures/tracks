# Tracks

<p align="center">
  <img src="https://anomalous-ventures-public-assets.s3.us-west-1.amazonaws.com/tracks-logo.svg" alt="Tracks Logo" width="400">
</p>

<p align="center">
  <strong>A Rails-like web framework for Go that generates idiomatic, production-ready applications</strong>
</p>

<p align="center">
  <a href="#features">Features</a> "
  <a href="#quick-start">Quick Start</a> "
  <a href="#documentation">Documentation</a> "
  <a href="#contributing">Contributing</a> "
  <a href="#license">License</a>
</p>

---

## Overview

Tracks is a command-line tool that generates and manages Go web applications with the productivity of Rails and the performance of Go. It provides a complete, opinionated framework with code generation, type-safe templates, and modern toolingall producing idiomatic Go code that you'd write yourself.

## Features

### =€ **Rapid Development**

- **Interactive TUI** - Beautiful terminal interface for project setup and code generation
- **Smart Generators** - Create complete CRUD resources with a single command
- **Live Reload** - Hot reload in development with Air
- **MCP Server** - AI-powered development via Model Context Protocol

### <× **Modern Architecture**

- **Type-Safe Templates** - [templ](https://github.com/a-h/templ) for compile-time HTML safety
- **Type-Safe SQL** - [SQLC](https://sqlc.dev/) generates Go code from SQL queries
- **Chi Router** - Lightweight, idiomatic HTTP routing
- **Dependency Injection** - Services built for easy testing

### = **Security First**

- **Built-in Authentication** - Magic link, OTP, and OAuth providers
- **RBAC Authorization** - Casbin-powered role-based access control
- **Security Headers** - CSP, HSTS, and more configured by default
- **Input Validation** - Comprehensive validation with go-playground/validator

### =Ê **Database Support**

- **Multiple Drivers** - LibSQL/Turso (default), SQLite, PostgreSQL
- **Type-Safe Migrations** - Goose migrations with rollback support
- **Connection Pooling** - Production-ready database configuration
- **UUIDv7 IDs** - Timestamp-ordered unique identifiers

### <¨ **Frontend Ready**

- **HTMX Integration** - Dynamic UIs without writing JavaScript
- **Alpine.js** - Progressive enhancement where needed
- **TailwindCSS** - Utility-first styling (optional)
- **Asset Pipeline** - Embedded assets with content hashing

### =È **Production Ready**

- **OpenTelemetry** - Distributed tracing and metrics
- **Structured Logging** - JSON logs with zerolog
- **Health Checks** - Kubernetes-ready liveness/readiness probes
- **Graceful Shutdown** - Clean connection handling

## Quick Start

### Prerequisites

- Go 1.23 or later
- Node.js 18+ and pnpm (for development tools)
- Git

### Installation

```bash
# Install Tracks CLI
go install github.com/anomalousventures/tracks@latest

# Verify installation
tracks version
```

### Create Your First App

```bash
# Launch interactive TUI
tracks

# Or use CLI directly
tracks new myapp --db go-libsql

# Start development server
cd myapp
tracks dev
```

Visit `http://localhost:8080` to see your app!

### Generate a Resource

```bash
# Generate complete CRUD resource
tracks generate resource post title:string content:text author:relation published:bool

# This creates:
# - Database migration
# - SQLC queries
# - Repository (generated by SQLC)
# - Service layer with business logic
# - HTTP handlers (API + Web)
# - Templ templates
# - Tests with mocks
# - Route registration
```

## Documentation

Comprehensive documentation is available in the [`docs/prd`](./docs/prd) directory:

- **[Getting Started Guide](./docs/prd/0_summary.md)** - Overview and architecture
- **[Core Architecture](./docs/prd/1_core_architecture.md)** - Application structure
- **[Database Layer](./docs/prd/2_database_layer.md)** - SQLC, migrations, and queries
- **[Authentication](./docs/prd/3_authentication.md)** - Magic links, OTP, and OAuth
- **[Authorization](./docs/prd/4_authorization_rbac.md)** - Casbin RBAC setup
- **[Code Generation](./docs/prd/14_code_generation.md)** - Generators and CLI commands
- **[Testing](./docs/prd/13_testing.md)** - Unit, integration, and E2E tests
- **[Deployment](./docs/prd/17_deployment.md)** - Production deployment strategies

## Philosophy

### Idiomatic Go

Tracks generates code that looks like it was hand-written by an experienced Go developer:

- No magic or reflection in generated code
- Standard library patterns
- Clear error handling
- Interface-based design for testing

### Rails-Inspired Productivity

- Convention over configuration
- Generators for rapid development
- Built-in authentication and authorization
- Asset pipeline and view system

### Production Ready

- OpenTelemetry observability
- Database connection pooling
- Graceful shutdown
- Health check endpoints
- Structured logging

## Project Status

Tracks is currently in **pre-release development** (v0.x). The API may change before v1.0.

## Contributing

We welcome contributions! Please see our [Contributing Guide](./CONTRIBUTING.md) for details on:

- Code of Conduct
- Development setup
- Pull request process
- Coding standards

## Community

- **Issues**: [GitHub Issues](https://github.com/anomalousventures/tracks/issues)
- **Discussions**: [GitHub Discussions](https://github.com/anomalousventures/tracks/discussions)

## License

Tracks is released under the [MIT License](./LICENSE). See LICENSE file for details.

## Acknowledgments

Tracks builds on the excellent work of many open-source projects:

- [Chi](https://github.com/go-chi/chi) - HTTP routing
- [templ](https://github.com/a-h/templ) - Type-safe templates
- [SQLC](https://sqlc.dev/) - SQL code generation
- [Casbin](https://casbin.org/) - Authorization
- [Goose](https://github.com/pressly/goose) - Database migrations
- [Bubble Tea](https://github.com/charmbracelet/bubbletea) - TUI framework

---

**Made with d by [Anomalous Ventures](https://anomalousventures.com)**
